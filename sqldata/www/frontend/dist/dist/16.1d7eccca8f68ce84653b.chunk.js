webpackJsonp([16],{221:function(n,e,t){"use strict";function o(n){u||(t(501),t(505))}Object.defineProperty(e,"__esModule",{value:!0});var r=t(389),a=t.n(r);for(var s in r)"default"!==s&&function(n){t.d(e,n,function(){return r[n]})}(s);var i=t(508),l=t.n(i),u=!1,c=t(1),p=o,d=c(a.a,l.a,!1,p,null,null);d.options.__file="src/views/login.vue",e.default=d.exports},389:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t(6),r=function(n){return n&&n.__esModule?n:{default:n}}(o),a=t(507);e.default={data:function(){return{loginType:"",authCode:"",form:{userName:"",password:""},rules:{userName:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},created:function(){var n=localStorage.getItem("user");this.form.userName=n||"admin";var e=localStorage.getItem("logintype");this.loginType=e||"common"},methods:{handleSubmit:function(){var n=this;this.$refs.loginForm.validate(function(e){e&&("unified"==n.loginType&&n.Unified(n.form.userName,n.form.password),n.login(n.form.userName,n.form.password))})},login:function(n,e){var t=this,o={username:n,password:e};(0,a.Login)(o).then(function(e){var o=e.data.token;r.default.set("token",o),r.default.set("user",n),localStorage.setItem("user",n),localStorage.setItem("logintype",t.loginType),t.$router.push({name:"otherRouter"}),t.$Message.success({content:"登陆成功",duration:3})}).catch(function(n){t.$Message.error({content:"登录失败（用户名或密码错误）",duration:5})})},Unified:function(n,e){var t={username:n,password:e};(0,a.UnifiedAuth)(t).then(function(n){})}}}},501:function(n,e,t){var o=t(502);"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t(15)("b177eea6",o,!1,{})},502:function(n,e,t){var o=t(503);e=n.exports=t(14)(!1),e.push([n.i,"\n.login {\n  width: 100%;\n  height: 100%;\n  background-image: url("+o(t(504))+");\n  background-size: cover;\n  background-position: center;\n  position: relative;\n}\n.login-con {\n  position: absolute;\n  right: 160px;\n  top: 50%;\n  -webkit-transform: translateY(-60%);\n          transform: translateY(-60%);\n  width: 300px;\n}\n.login-con-header {\n  font-size: 16px;\n  font-weight: 300;\n  text-align: center;\n  padding: 30px 0;\n}\n.login-con .form-con {\n  padding: 10px 0 0;\n}\n.login-con .login-tip {\n  font-size: 10px;\n  text-align: center;\n  color: #c3c3c3;\n}\n",""])},503:function(n,e){n.exports=function(n){return"string"!=typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),/["'() \t\n]/.test(n)?'"'+n.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':n)}},504:function(n,e,t){n.exports=t.p+"c2a57202c856f8b4b12a79029911f8e2.jpg"},505:function(n,e,t){var o=t(506);"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t(15)("19bab842",o,!1,{})},506:function(n,e,t){e=n.exports=t(14)(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},507:function(n,e,t){"use strict";function o(n){return(0,s.default)({url:i,method:"post",data:n})}function r(n){return(0,s.default)({url:l,method:"post",data:n})}Object.defineProperty(e,"__esModule",{value:!0}),e.Login=o,e.UnifiedAuth=r;var a=t(50),s=function(n){return n&&n.__esModule?n:{default:n}}(a),i="/api/api-token-auth/",l="/api/account/unitaryauth/"},508:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"login",on:{keydown:function(e){return"button"in e||!n._k(e.keyCode,"enter",13,e.key,"Enter")?n.handleSubmit(e):null}}},[t("div",{staticClass:"login-con"},[t("Card",{attrs:{bordered:!1}},[t("p",{attrs:{slot:"title"},slot:"title"},[t("Icon",{attrs:{type:"log-in"}}),n._v("\n                欢迎登录\n            ")],1),n._v(" "),t("div",{staticClass:"form-con"},[t("Form",{ref:"loginForm",attrs:{model:n.form,rules:n.rules}},[t("FormItem",{attrs:{label:"登录类型"}},[t("RadioGroup",{model:{value:n.loginType,callback:function(e){n.loginType=e},expression:"loginType"}},[t("Radio",{attrs:{label:"common"}},[n._v("普通登录")]),n._v(" "),t("Radio",{attrs:{label:"unified"}},[n._v("统一认证")])],1)],1),n._v(" "),t("FormItem",{attrs:{prop:"userName"}},[t("Input",{attrs:{placeholder:"请输入用户名"},model:{value:n.form.userName,callback:function(e){n.$set(n.form,"userName",e)},expression:"form.userName"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[t("Icon",{attrs:{size:16,type:"person"}})],1)])],1),n._v(" "),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:n.form.password,callback:function(e){n.$set(n.form,"password",e)},expression:"form.password"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[t("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),n._v(" "),t("FormItem",[t("Button",{attrs:{type:"primary",long:""},on:{click:n.handleSubmit}},[n._v("登录")])],1)],1),n._v(" "),t("p",{staticClass:"login-tip"})],1)])],1)])},r=[];o._withStripped=!0;var a={render:o,staticRenderFns:r};e.default=a}});